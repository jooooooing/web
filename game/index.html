<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
		crossorigin="anonymous"></script>
	<link rel="stylesheet" href="css/style.css">
	<!--css style시트 연결-->

</head>

<body>
	<div class="container">
		<img id="mario" src="assets/mario.gif" alt="mario">
		<img id="goomba" src="assets/goomba.png" alt="goomba">
	</div>




	<script>
		let isJumping = false;

		function getRandomInt(min, max) {
			min = Math.ceil(min);
			max = Math.floor(max);
			return Math.floor(Math.random()*(max-min))+min; //최대값은 제외, 최솟값은 포함
		}

		function goombaStart() {
			let speed =getRandomInt(1000, 2000);
			let respawnTime = getRandomInt(1000, 2000);
			$('#goomba').animate({left: '-200px'}, speed, function(){
				//왼쪽 끝까지 가면 초기 위치로 이동
				$('#goomba').css('right', '-200px').css('left', '');
				
				//1초 후에 다시 출발
				setTimeout(goombaStart, respawnTime);
			});
		}


		//연타 방지
		function jump() {
			if (isJumping){
				return;
			}

			isJumping = true;
			$('#mario').animate({ bottom: '+=200px'}, 'fast').animate({ bottom: '-=200px'}, 'slow', function() {
				isJumping=false;
			});
		}

		//onload
		$(function() {
			$('body').keydown(function (event) {
				switch (event.key){
					case ' ':
						jump();
						break;
				}
			});
		});

		//굼바 출발
			goombaStart();


	</script>
</body>

</html>